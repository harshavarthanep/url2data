<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Extractor | H24 Creationz (Industry Update)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Zen / Stealth Theme Customization */
        :root {
            --bg-body: #0a0a0a;
            --bg-card: #171717;
            --bg-input: #262626;
            --accent: #10b981; /* Emerald Green */
            --text-main: #e5e5e5;
            --text-muted: #a3a3a3;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Scrollbar for 'Stealth' look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-body);
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Utility classes */
        .glass-panel {
            background: rgba(23, 23, 23, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .input-zen {
            background: var(--bg-input);
            border: 1px solid transparent;
            transition: all 0.2s ease;
        }
        .input-zen:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 1px var(--accent);
        }

        .btn-zen {
            transition: transform 0.1s ease, filter 0.2s ease;
        }
        .btn-zen:active {
            transform: scale(0.98);
        }

        /* Toast Animation */
        @keyframes slideIn {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .toast {
            animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <header class="h-16 border-b border-neutral-800 flex items-center justify-between px-6 glass-panel z-20">
        <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
            <h1 class="font-medium tracking-wide text-lg">H24 Batch Extractor <span class="text-xs text-neutral-500 ml-2">v2.0 (Custom Industry Logic)</span></h1>
        </div>
        <div class="flex gap-3">
            <button onclick="exportToCSV()" class="btn-zen flex items-center gap-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-md text-sm border border-neutral-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                Export CSV
            </button>
            <button onclick="toggleSettings()" class="btn-zen p-2 hover:bg-neutral-800 rounded-md text-neutral-400 hover:text-white transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
            </button>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        
        <aside class="w-1/3 min-w-[320px] max-w-[500px] border-r border-neutral-800 bg-[#0f0f0f] flex flex-col p-6 z-10 shadow-xl">
            <h2 class="text-sm font-semibold text-neutral-400 uppercase tracking-wider mb-4">Input URLs</h2>
            <div class="relative flex-1">
                <textarea id="urlInput" class="w-full h-full input-zen rounded-lg p-4 text-sm text-neutral-300 resize-none font-mono" placeholder="Paste links here...&#10;https://www.emirates.com&#10;www.binance.com&#10;mayoclinic.org&#10;airbnb.com"></textarea>
                <div class="absolute bottom-4 right-4">
                    <button onclick="processURLs()" class="btn-zen bg-emerald-600 hover:bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-900/50">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>
                    </button>
                </div>
            </div>
            <p class="text-xs text-neutral-600 mt-3">Supports raw text. We automatically find valid links.</p>
        </aside>

        <main class="flex-1 bg-neutral-900/50 relative flex flex-col">
            <div class="p-6 border-b border-neutral-800 flex justify-between items-center bg-[#0a0a0a]">
                <h2 class="text-sm font-semibold text-neutral-400 uppercase tracking-wider">Extracted Data (<span id="count">0</span>)</h2>
                <div class="flex gap-2 text-xs">
                    <span class="flex items-center gap-1 text-neutral-500"><div class="w-2 h-2 rounded-full bg-blue-500"></div> Name</span>
                    <span class="flex items-center gap-1 text-neutral-500"><div class="w-2 h-2 rounded-full bg-purple-500"></div> Industry</span>
                </div>
            </div>

            <div id="resultsList" class="flex-1 overflow-y-auto p-6 space-y-3">
                <div id="emptyState" class="h-full flex flex-col items-center justify-center text-neutral-600">
                    <svg class="mb-4 opacity-20" xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y8="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                    <p>No data yet. Paste URLs on the left to begin.</p>
                </div>
            </div>
        </main>
    </div>

    <div id="settingsPanel" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <div class="bg-[#171717] border border-neutral-800 rounded-xl p-8 max-w-sm w-full shadow-2xl">
            <h3 class="text-lg font-medium mb-6">Settings</h3>
            
            <div class="space-y-4">
                <button onclick="clearCache()" class="w-full btn-zen py-3 px-4 bg-red-900/20 text-red-400 hover:bg-red-900/40 border border-red-900/50 rounded-lg flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                    Clear All Cached Data
                </button>
                <button onclick="toggleSettings()" class="w-full btn-zen py-3 px-4 bg-neutral-800 text-neutral-300 hover:bg-neutral-700 rounded-lg">
                    Close
                </button>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-6 right-6 bg-emerald-600 text-white px-4 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg>
        <span id="toastMsg">Copied!</span>
    </div>

    <script>
        // --- State Management ---
        let sites = JSON.parse(localStorage.getItem('h24_extractor_v2_data') || '[]');

        // --- INDUSTRY MATCHING LOGIC (Based on uploaded document) ---
        // Priorities: Specific rules are checked before general rules.
        const INDUSTRY_RULES = {
            'Adult Themes': ['porn', 'xxx', 'sex', 'adult', 'playboy'],
            'Airlines': ['air', 'flight', 'jet', 'fly', 'aero', 'aviation', 'charter', 'ticket', 'booking', 'expedia', 'skyscanner', 'kayak'],
            'Alcohol': ['beer', 'wine', 'liquor', 'spirit', 'vodka', 'whiskey', 'rum', 'gin', 'absolut', 'bacardi', 'heineken'],
            'Auto – Dealerships': ['dealer', 'motors', 'autotrader', 'carmax', 'sales'],
            'Auto – Manufacturers': ['bmw', 'honda', 'toyota', 'ford', 'mercedes', 'chevrolet', 'audi', 'tesla', 'nissan', 'hyundai', 'kia', 'volkswagen'],
            'Auto – Other': ['tire', 'michelin', 'valvoline', 'towing', 'repair', 'mechanic', 'garage', 'parts', 'lubricant'],
            'Bingo / Lottery': ['bingo', 'lotto', 'lottery', 'scratch', 'prize'],
            'Books / Magazines': ['book', 'noble', 'magazine', 'press', 'publish', 'vogue', 'forbes', 'library', 'kindle'],
            'Car Rental': ['hertz', 'avis', 'uber', 'ola', 'lyft', 'rentacar', 'carrental', 'limo'],
            'Casino / Gambling': ['casino', 'bet', 'poker', 'gamble', 'slot', 'jackpot'],
            'Charity / Non Profit': ['org', 'charity', 'foundation', 'donate', 'relief', 'wildlife', 'cancer', 'savethechildren'],
            'Cigarettes / Tobacco': ['tobacco', 'cigar', 'vape', 'smoke', 'nicotine'],
            'Classifieds': ['craigslist', 'olx', 'classified', 'list'],
            'Clothing': ['wear', 'fashion', 'apparel', 'cloth', 'boutique', 'style', 'jeans', 'shirt', 'gap', 'forever21', 'calvin'],
            'Clothing - Footwear': ['shoe', 'footwear', 'sneaker', 'crocs', 'nike', 'adidas', 'asics'],
            'Cryptocurrency': ['bitcoin', 'crypto', 'coin', 'blockchain', 'wallet', 'binance', 'coinbase'],
            'Dating': ['dating', 'match', 'harmony', 'zoosk', 'love', 'meet', 'cupid'],
            'Education': ['edu', 'school', 'university', 'college', 'academy', 'learn', 'study', 'course', 'tutor', 'udemy', 'coursera'],
            'Electronics': ['tech', 'apple', 'samsung', 'canon', 'nikon', 'sony', 'camera', 'audio', 'video', 'gadget'],
            'Employment / Jobs': ['job', 'career', 'recruit', 'work', 'resume', 'linkedin', 'indeed', 'glassdoor', 'hiring'],
            'Entertainment': ['movie', 'film', 'cinema', 'disney', 'warner', 'netflix', 'hulu', 'ticketmaster', 'event', 'concert', 'park', 'amusement'],
            'Financial – Bank': ['bank', 'chase', 'hsbc', 'citi', 'america', 'fargo', 'credit', 'union', 'capital'],
            'Financial – Invest': ['invest', 'stock', 'trade', 'forex', 'fund', 'fidelity', 'market', 'wealth'],
            'Fitness / Wellness': ['gym', 'fitness', 'fit', 'yoga', 'health', 'nutrition', 'gnc', 'muscle', 'workout'],
            'Food / Beverage': ['food', 'kitchen', 'cafe', 'restaurant', 'pizza', 'burger', 'grill', 'coffee', 'tea', 'drink', 'nestle', 'pepsi', 'coke', 'kellogg'],
            'Furniture': ['furniture', 'ikea', 'sofa', 'chair', 'bed', 'decor', 'living'],
            'Gaming': ['game', 'play', 'nintendo', 'xbox', 'playstation', 'steam', 'ea', 'toy'],
            'Government': ['gov', 'state', 'federal', 'police', 'military', 'army', 'navy', 'court'],
            'Grocery': ['market', 'grocery', 'walmart', 'target', 'wholefoods', 'safeway', 'mart'],
            'Home Improvement': ['home', 'depot', 'repair', 'construct', 'build', 'plumb', 'roof', 'hvac', 'paint', 'decor'],
            'Hotels / Resorts': ['hotel', 'resort', 'inn', 'stay', 'motel', 'spa', 'bnb', 'hostel', 'marriott', 'hilton', 'wyndham'],
            'Insurance': ['insure', 'insurance', 'geico', 'allstate', 'progressive', 'cover', 'life'],
            'Legal': ['law', 'attorney', 'legal', 'firm', 'advocate'],
            'Medical / Health': ['med', 'health', 'clinic', 'doctor', 'hospital', 'pharm', 'dental', 'vision', 'care', 'pfizer', 'mayo'],
            'Real Estate': ['realty', 'estate', 'property', 'zillow', 'remax', 'century21', 'home', 'house'],
            'Social Network': ['facebook', 'instagram', 'twitter', 'tiktok', 'social', 'connect'],
            'Technology – Software': ['soft', 'app', 'saas', 'adobe', 'microsoft', 'google', 'oracle', 'cloud', 'cyber', 'data', 'sys', 'web', 'dev', 'io', 'ai'],
            'Telecom': ['telecom', 'mobile', 'wireless', 'verizon', 'att', 't-mobile', 'sprint', 'vodafone', 'broadband', 'cable'],
            'Travel': ['travel', 'trip', 'tour', 'vacation', 'cruise', 'explore', 'guide'],
            'Web Hosting': ['host', 'domain', 'godaddy', 'namecheap', 'bluehost', 'server']
        };

        // --- Core Functions ---

        function init() {
            renderList();
        }

        function guessIndustry(hostname, url) {
            const lowerHost = hostname.toLowerCase();
            const lowerUrl = url.toLowerCase();
            
            // Check specific rules first
            for (const [industry, keywords] of Object.entries(INDUSTRY_RULES)) {
                if (keywords.some(k => lowerHost.includes(k))) {
                    return industry;
                }
            }

            // Fallback for tricky URLs that might contain keywords in path
            // (Only if not found in domain)
            for (const [industry, keywords] of Object.entries(INDUSTRY_RULES)) {
                if (keywords.some(k => lowerUrl.includes(k))) {
                    return industry;
                }
            }

            return 'General / Uncategorized';
        }

        function processURLs() {
            const input = document.getElementById('urlInput').value;
            if (!input.trim()) return;

            // Regex to find URLs in text
            const urlRegex = /(https?:\/\/[^\s]+)|(www\.[^\s]+)|([a-zA-Z0-9-]+\.[a-zA-Z]{2,})/g;
            const foundMatches = input.match(urlRegex) || [];

            let newCount = 0;

            // Process each match
            foundMatches.forEach(rawUrl => {
                let cleanUrl = rawUrl;
                if (!cleanUrl.startsWith('http')) cleanUrl = 'https://' + cleanUrl;

                try {
                    const urlObj = new URL(cleanUrl);
                    const hostname = urlObj.hostname.replace(/^www\./, '');
                    
                    // Check if already exists to prevent duplicates
                    if (sites.some(s => s.domain === hostname)) return;

                    // 1. Extract Name (Capitalize first letter)
                    const namePart = hostname.split('.')[0];
                    const name = namePart.charAt(0).toUpperCase() + namePart.slice(1);

                    // 2. Guess Industry (New Logic)
                    const industry = guessIndustry(hostname, cleanUrl);

                    sites.unshift({
                        id: Date.now() + Math.random(),
                        url: cleanUrl,
                        domain: hostname,
                        name: name,
                        industry: industry
                    });
                    newCount++;

                } catch (e) {
                    console.log('Invalid URL skipped:', rawUrl);
                }
            });

            saveData();
            renderList();
            document.getElementById('urlInput').value = ''; // Clear input
            if(newCount > 0) showToast(`${newCount} URLs Processed`);
            else showToast('No new URLs found');
        }

        function saveData() {
            localStorage.setItem('h24_extractor_v2_data', JSON.stringify(sites));
        }

        function clearCache() {
            sites = [];
            localStorage.removeItem('h24_extractor_v2_data');
            renderList();
            toggleSettings();
            showToast('Cache Cleared');
        }

        function deleteItem(id) {
            sites = sites.filter(s => s.id !== id);
            saveData();
            renderList();
        }

        function updateItem(id, field, value) {
            const item = sites.find(s => s.id === id);
            if (item) {
                item[field] = value;
                saveData();
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`Copied: ${text}`);
            });
        }

        function exportToCSV() {
            if (sites.length === 0) {
                showToast('No data to export');
                return;
            }
            const headers = ['Website Name', 'Industry Category', 'Domain', 'Full URL'];
            const csvRows = [headers.join(',')];

            sites.forEach(site => {
                // Escape quotes for CSV format
                const safeName = site.name.replace(/"/g, '""');
                const safeInd = site.industry.replace(/"/g, '""');
                
                const row = [
                    `"${safeName}"`,
                    `"${safeInd}"`,
                    site.domain,
                    site.url
                ];
                csvRows.push(row.join(','));
            });

            const csvContent = "data:text/csv;charset=utf-8," + csvRows.join("\n");
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "industry_data_export.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // --- UI Functions ---

        function renderList() {
            const listEl = document.getElementById('resultsList');
            const countEl = document.getElementById('count');
            const emptyState = document.getElementById('emptyState');

            countEl.innerText = sites.length;

            if (sites.length === 0) {
                listEl.innerHTML = '';
                listEl.appendChild(emptyState);
                emptyState.classList.remove('hidden');
                return;
            }

            // Keep empty state in DOM but hidden
            if(document.getElementById('emptyState')) document.getElementById('emptyState').classList.add('hidden');
            
            listEl.innerHTML = ''; // Clear current list

            sites.forEach(site => {
                const card = document.createElement('div');
                card.className = 'glass-panel p-4 rounded-lg flex items-center justify-between group hover:border-neutral-700 transition-colors';
                
                card.innerHTML = `
                    <div class="flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 mr-4">
                        
                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] uppercase tracking-wider text-blue-400 font-bold">Website Name</label>
                            <div class="flex items-center gap-2 bg-neutral-800/50 rounded px-2 py-1 border border-transparent focus-within:border-blue-500/50 transition-colors">
                                <input type="text" value="${site.name}" 
                                    onchange="updateItem(${site.id}, 'name', this.value)"
                                    class="bg-transparent border-none text-sm w-full focus:outline-none text-white font-medium" />
                                <button onclick="copyToClipboard('${site.name}')" class="text-neutral-500 hover:text-white" title="Copy Name">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                                </button>
                            </div>
                            <a href="${site.url}" target="_blank" class="text-xs text-neutral-600 hover:text-neutral-400 truncate max-w-[200px]">${site.domain}</a>
                        </div>

                        <div class="flex flex-col gap-1">
                            <label class="text-[10px] uppercase tracking-wider text-purple-400 font-bold">Industry</label>
                            <div class="flex items-center gap-2 bg-neutral-800/50 rounded px-2 py-1 border border-transparent focus-within:border-purple-500/50 transition-colors">
                                <input type="text" value="${site.industry}" 
                                    onchange="updateItem(${site.id}, 'industry', this.value)"
                                    class="bg-transparent border-none text-sm w-full focus:outline-none text-white font-medium" />
                                <button onclick="copyToClipboard('${site.industry}')" class="text-neutral-500 hover:text-white" title="Copy Industry">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                                </button>
                            </div>
                        </div>

                    </div>

                    <button onclick="deleteItem(${site.id})" class="text-neutral-600 hover:text-red-400 p-2 opacity-0 group-hover:opacity-100 transition-opacity">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                    </button>
                `;
                listEl.appendChild(card);
            });
        }

        function toggleSettings() {
            const modal = document.getElementById('settingsPanel');
            modal.classList.toggle('hidden');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMsg').innerText = msg;
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        // Initialize
        init();

    </script>
</body>
</html>
